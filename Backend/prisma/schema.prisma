generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Admin {
  id        String     @id @default(uuid())
  names     String     @unique
  email     String     @unique
  password  String
  role      String     @default("Admin") // e.g., admin, vet, etc.
  createdAt DateTime   @default(now())
  updatedAt DateTime   @updatedAt

  checkIns  CheckIn[]
  checkOuts CheckOut[]
}

model Goat {
  id                     String     @id
  goatName               String
  breed                  String
  dateOfBirth            DateTime?
  Gender                 String?
  color                  String?
  weight                 Float?
  sireRegistrationNumber String?
  damRegistrationNumber  String?
  image                  String?
  note                   String     @default("no pest and diseases ")
  createdAt              DateTime   @default(now())
  updatedAt              DateTime   @default(now())

  checkIns               CheckIn[]
  checkOuts              CheckOut[]
}

model CheckIn {
  id        String   @id @default(uuid())
  goat      Goat     @relation(fields: [goatId], references: [id])
  goatId    String

  admin     Admin    @relation(fields: [adminId], references: [id])
  adminId   String

  date      DateTime @default(now())

}

model CheckOut {
  id        String   @id @default(uuid())
  goat      Goat     @relation(fields: [goatId], references: [id])
  goatId    String

  admin     Admin    @relation(fields: [adminId], references: [id])
  adminId   String

  date      DateTime @default(now())
}
